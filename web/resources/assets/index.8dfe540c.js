/*! 
 Build based on gin-vue-admin 
 Time : 1672224415000 */
import{s as e,r as l,g as a,o as t,c as o,b as u,d,w as m,h as i,y as r,G as s,e as n,F as c,v as p,l as v,i as g}from"./index.32af5906.js";import{a as f}from"./format.fe46b3b1.js";import"./date.23f5a973.js";import"./dictionary.28290efa.js";import"./sysDictionary.b7a85079.js";const b={class:"gva-search-box"},h={class:"gva-table-box"},V={class:"gva-btn-list"},y={key:0},_={class:"gva-pagination"},w={class:"dialog-footer"},C={name:"communicationStatus"},k=Object.assign(C,{setup(C){const k=l({satelliteId:"",satelliteName:"",orbitId:"",commState:"",commPort:"",commBandwidth:"",commDelay:"",linkLoad:""}),S=l([{value:"正常",label:"正常"},{value:"异常",label:"异常"}]),I=l(""),z=l({satelliteId:[{required:!0,message:"请输入卫星编码",trigger:"blur"},{validator:(e,l,a)=>{if(!/^[a-zA-Z0-9._-]{3,30}$/.test(l))return a(new Error("编号须3-30位，由字母、数字以及._-组成"));a()},trigger:"blur"}],satelliteName:[{required:!0,message:"请输入卫星名称",trigger:"blur"}],orbitId:[{required:!0,message:"请输入运行轨道",trigger:"blur"}],commState:[{required:!0,message:"请输入通信状态",trigger:"blur"}],commPort:[{required:!0,message:"请输入通信端口",trigger:"blur"}],commBandwidth:[{required:!0,message:"请输入通信带宽",trigger:"blur"}],commDelay:[{required:!0,message:"请输入延时",trigger:"blur"}],linkLoad:[{required:!0,message:"请输入链路负荷",trigger:"blur"}]}),U=l(1),q=l(0),x=l(10),D=l([]),j=l({}),B=()=>{U.value=1,x.value=10,P()},L=e=>{x.value=e,P()},N=e=>{U.value=e,P()},P=async()=>{let l={page:U.value,pageSize:x.value,...j.value};const a=await(l=>e({url:"/satellitebc/exec/getcommstatelist",method:"get",params:l}))(l);200===a.code&&(D.value=a.data,q.value=a.total)};P();const F=l(null),A=l("添加通信状态"),T=l(!1),E=()=>{F.value.resetFields(),k.value={satelliteId:"",satelliteName:"",orbitId:"",commState:"",commPort:"",commBandwidth:"",commDelay:"",linkLoad:""},T.value=!1},G=async()=>{F.value.validate((async l=>{if(l){200===(await(a=k.value,e({url:"/satellitebc/exec/addcommstate",method:"post",data:a}))).code&&g({type:"success",message:"添加成功",showClose:!0}),P(),E()}var a}))};return(e,l)=>{const g=a("el-input"),C=a("el-form-item"),P=a("el-button"),O=a("el-form"),Z=a("el-table-column"),$=a("el-table"),H=a("el-pagination"),J=a("el-option"),K=a("el-select"),M=a("el-dialog");return t(),o("div",null,[u("div",b,[d(O,{ref:"searchForm",inline:!0,model:j.value},{default:m((()=>[d(C,{label:"卫星名称"},{default:m((()=>[d(g,{modelValue:j.value.searchConditions,"onUpdate:modelValue":l[0]||(l[0]=e=>j.value.searchConditions=e),placeholder:"卫星名称"},null,8,["modelValue"])])),_:1}),d(C,null,{default:m((()=>[d(P,{size:"small",type:"primary",icon:"search",onClick:B},{default:m((()=>[i("查询")])),_:1})])),_:1})])),_:1},8,["model"])]),u("div",h,[u("div",V,[d(P,{size:"small",type:"primary",icon:"plus",onClick:l[1]||(l[1]=e=>(e=>{switch(e){case"addApi":A.value="添加通信状态";break;case"edit":A.value="编辑通信状态"}I.value=e,T.value=!0})("addApi"))},{default:m((()=>[i("添加")])),_:1})]),d($,{data:D.value,onSortChange:e.sortChange,onSelectionChange:e.handleSelectionChange},{default:m((()=>[d(Z,{align:"left",label:"卫星编码",prop:"satelliteId"}),d(Z,{align:"left",label:"卫星名称",prop:"satelliteName"}),d(Z,{align:"left",label:"运行轨道",prop:"orbitId"}),d(Z,{align:"left",label:"通信状态",prop:"commState"}),d(Z,{align:"left",label:"通信端口",prop:"commPort"}),d(Z,{align:"left",label:"通信带宽",prop:"commBandwidth"}),d(Z,{align:"left",label:"延时",prop:"commDelay"}),d(Z,{align:"left",label:"链路负荷",prop:"linkLoad"}),d(Z,{label:"更新时间",width:"180"},{default:m((e=>[i(r(s(f)(e.row.lastTime,1)),1)])),_:1}),d(Z,{label:"上链时间",width:"180"},{default:m((e=>[e.row.chainTime?(t(),o("div",y,r(s(f)(e.row.chainTime)),1)):n("",!0)])),_:1})])),_:1},8,["data","onSortChange","onSelectionChange"]),u("div",_,[d(H,{"current-page":U.value,"page-size":x.value,"page-sizes":[10,30,50,100],total:q.value,layout:"total, sizes, prev, pager, next, jumper",onCurrentChange:N,onSizeChange:L},null,8,["current-page","page-size","total"])])]),d(M,{modelValue:T.value,"onUpdate:modelValue":l[10]||(l[10]=e=>T.value=e),"before-close":E,title:A.value},{footer:m((()=>[u("div",w,[d(P,{size:"small",onClick:E},{default:m((()=>[i("取 消")])),_:1}),d(P,{size:"small",type:"primary",onClick:G},{default:m((()=>[i("确 定")])),_:1})])])),default:m((()=>[d(O,{ref_key:"apiForm",ref:F,model:k.value,rules:z.value,"label-width":"80px"},{default:m((()=>[d(C,{label:"卫星编码",prop:"satelliteId"},{default:m((()=>[d(g,{modelValue:k.value.satelliteId,"onUpdate:modelValue":l[2]||(l[2]=e=>k.value.satelliteId=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),d(C,{label:"卫星名称",prop:"satelliteName"},{default:m((()=>[d(g,{modelValue:k.value.satelliteName,"onUpdate:modelValue":l[3]||(l[3]=e=>k.value.satelliteName=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),d(C,{label:"运行轨道",prop:"orbitId"},{default:m((()=>[d(g,{modelValue:k.value.orbitId,"onUpdate:modelValue":l[4]||(l[4]=e=>k.value.orbitId=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),d(C,{label:"通信状态",prop:"commState"},{default:m((()=>[d(K,{modelValue:k.value.commState,"onUpdate:modelValue":l[5]||(l[5]=e=>k.value.commState=e),placeholder:"请选择",style:{width:"100%"}},{default:m((()=>[(t(!0),o(c,null,p(S.value,(e=>(t(),v(J,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),d(C,{label:"通信端口",prop:"commPort"},{default:m((()=>[d(g,{modelValue:k.value.commPort,"onUpdate:modelValue":l[6]||(l[6]=e=>k.value.commPort=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),d(C,{label:"通信带宽",prop:"commBandwidth"},{default:m((()=>[d(g,{modelValue:k.value.commBandwidth,"onUpdate:modelValue":l[7]||(l[7]=e=>k.value.commBandwidth=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),d(C,{label:"延时",prop:"commDelay"},{default:m((()=>[d(g,{modelValue:k.value.commDelay,"onUpdate:modelValue":l[8]||(l[8]=e=>k.value.commDelay=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),d(C,{label:"链路负荷",prop:"linkLoad"},{default:m((()=>[d(g,{modelValue:k.value.linkLoad,"onUpdate:modelValue":l[9]||(l[9]=e=>k.value.linkLoad=e),autocomplete:"off"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title"])])}}});export{k as default};
