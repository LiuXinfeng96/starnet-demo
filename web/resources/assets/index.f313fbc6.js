/*! 
 Build based on gin-vue-admin 
 Time : 1672137460000 */
import{s as e,r as l,g as a,o as t,c as o,b as r,d as u,w as d,h as i,y as n,G as s,e as m,F as p,v,l as g,i as c}from"./index.326c508a.js";import{a as f}from"./format.140daded.js";import"./date.23f5a973.js";import"./dictionary.5509472a.js";import"./sysDictionary.08a35ed5.js";const b={class:"gva-search-box"},w={class:"gva-table-box"},h={class:"gva-btn-list"},k={key:0},V={class:"gva-pagination"},S={class:"dialog-footer"},_={name:"networkStatus"},y=Object.assign(_,{setup(_){const y=l({satelliteId:"",satelliteName:"",orbitId:"",networkSegment:"",networkState:"",networkBandwidth:""}),C=l([{value:"正常",label:"正常"},{value:"异常",label:"异常"}]),I=l(""),z=l({satelliteId:[{required:!0,message:"请输入卫星编码",trigger:"blur"},{validator:(e,l,a)=>{if(!/^[a-zA-Z0-9._-]{3,30}$/.test(l))return a(new Error("编号须3-30位，由字母、数字以及._-组成"));a()},trigger:"blur"}],satelliteName:[{required:!0,message:"请输入卫星名称",trigger:"blur"}],orbitId:[{required:!0,message:"请输入运行轨道",trigger:"blur"}],networkSegment:[{required:!0,message:"请输入所在网段",trigger:"blur"}],networkState:[{required:!0,message:"请选择网络状态",trigger:"blur"}],networkBandwidth:[{required:!0,message:"请输入网络带宽",trigger:"blur"}]}),x=l(1),U=l(0),j=l(10),B=l([]),N=l({}),q=()=>{x.value=1,j.value=10,T()},F=e=>{j.value=e,T()},A=e=>{x.value=e,T()},T=async()=>{let l={page:x.value,pageSize:j.value,...N.value};const a=await(l=>e({url:"/satellitebc/exec/getnetstatelist",method:"get",params:l}))(l);200===a.code&&(B.value=a.data,U.value=a.total)};T();const D=l(null),E=l("添加网络状态"),G=l(!1),O=()=>{D.value.resetFields(),y.value={satelliteId:"",satelliteName:"",orbitId:"",networkSegment:"",networkState:"",networkBandwidth:""},G.value=!1},Z=async()=>{D.value.validate((async l=>{if(l){200===(await(a=y.value,e({url:"/satellitebc/exec/addnetstate",method:"post",data:a}))).code&&c({type:"success",message:"添加成功",showClose:!0}),T(),O()}var a}))};return(e,l)=>{const c=a("el-input"),_=a("el-form-item"),T=a("el-button"),$=a("el-form"),H=a("el-table-column"),J=a("el-table"),K=a("el-pagination"),L=a("el-option"),M=a("el-select"),P=a("el-dialog");return t(),o("div",null,[r("div",b,[u($,{ref:"searchForm",inline:!0,model:N.value},{default:d((()=>[u(_,{label:"卫星名称"},{default:d((()=>[u(c,{modelValue:N.value.searchConditions,"onUpdate:modelValue":l[0]||(l[0]=e=>N.value.searchConditions=e),placeholder:"卫星名称"},null,8,["modelValue"])])),_:1}),u(_,null,{default:d((()=>[u(T,{size:"small",type:"primary",icon:"search",onClick:q},{default:d((()=>[i("查询")])),_:1})])),_:1})])),_:1},8,["model"])]),r("div",w,[r("div",h,[u(T,{size:"small",type:"primary",icon:"plus",onClick:l[1]||(l[1]=e=>(e=>{switch(e){case"addApi":E.value="添加网络状态";break;case"edit":E.value="编辑网络状态"}I.value=e,G.value=!0})("addApi"))},{default:d((()=>[i("添加")])),_:1})]),u(J,{data:B.value,onSortChange:e.sortChange,onSelectionChange:e.handleSelectionChange},{default:d((()=>[u(H,{align:"left",label:"卫星编码",prop:"satelliteId"}),u(H,{align:"left",label:"卫星名称",prop:"satelliteName"}),u(H,{align:"left",label:"运行轨道",prop:"orbitId"}),u(H,{align:"left",label:"所在网段",prop:"networkSegment"}),u(H,{align:"left",label:"网络状态",prop:"networkState"}),u(H,{align:"left",label:"网络带宽",prop:"networkBandwidth"}),u(H,{label:"更新时间",width:"180"},{default:d((e=>[i(n(s(f)(e.row.lastTime,1)),1)])),_:1}),u(H,{label:"上链时间",width:"180"},{default:d((e=>[e.row.chainTime?(t(),o("div",k,n(s(f)(e.row.chainTime)),1)):m("",!0)])),_:1})])),_:1},8,["data","onSortChange","onSelectionChange"]),r("div",V,[u(K,{"current-page":x.value,"page-size":j.value,"page-sizes":[10,30,50,100],total:U.value,layout:"total, sizes, prev, pager, next, jumper",onCurrentChange:A,onSizeChange:F},null,8,["current-page","page-size","total"])])]),u(P,{modelValue:G.value,"onUpdate:modelValue":l[8]||(l[8]=e=>G.value=e),"before-close":O,title:E.value},{footer:d((()=>[r("div",S,[u(T,{size:"small",onClick:O},{default:d((()=>[i("取 消")])),_:1}),u(T,{size:"small",type:"primary",onClick:Z},{default:d((()=>[i("确 定")])),_:1})])])),default:d((()=>[u($,{ref_key:"apiForm",ref:D,model:y.value,rules:z.value,"label-width":"80px"},{default:d((()=>[u(_,{label:"卫星编码",prop:"satelliteId"},{default:d((()=>[u(c,{modelValue:y.value.satelliteId,"onUpdate:modelValue":l[2]||(l[2]=e=>y.value.satelliteId=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),u(_,{label:"卫星名称",prop:"satelliteName"},{default:d((()=>[u(c,{modelValue:y.value.satelliteName,"onUpdate:modelValue":l[3]||(l[3]=e=>y.value.satelliteName=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),u(_,{label:"运行轨道",prop:"orbitId"},{default:d((()=>[u(c,{modelValue:y.value.orbitId,"onUpdate:modelValue":l[4]||(l[4]=e=>y.value.orbitId=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),u(_,{label:"所在网段",prop:"networkSegment"},{default:d((()=>[u(c,{modelValue:y.value.networkSegment,"onUpdate:modelValue":l[5]||(l[5]=e=>y.value.networkSegment=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),u(_,{label:"网络状态",prop:"networkState"},{default:d((()=>[u(M,{modelValue:y.value.networkState,"onUpdate:modelValue":l[6]||(l[6]=e=>y.value.networkState=e),placeholder:"请选择",style:{width:"100%"}},{default:d((()=>[(t(!0),o(p,null,v(C.value,(e=>(t(),g(L,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),u(_,{label:"网络带宽",prop:"networkBandwidth"},{default:d((()=>[u(c,{modelValue:y.value.networkBandwidth,"onUpdate:modelValue":l[7]||(l[7]=e=>y.value.networkBandwidth=e),autocomplete:"off"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title"])])}}});export{y as default};
