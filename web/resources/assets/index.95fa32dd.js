/*! 
 Build based on gin-vue-admin 
 Time : 1671785957000 */
import{s as e,r as l,g as a,o as t,c as o,b as i,d as r,w as u,h as d,y as n,G as s,e as p,i as g}from"./index.860b48e6.js";import{a as c}from"./format.4fc21eae.js";import"./date.23f5a973.js";import"./dictionary.8dcfcd04.js";import"./sysDictionary.12ad4d06.js";const b={class:"gva-search-box"},m={class:"gva-table-box"},v={class:"gva-btn-list"},f={key:0},y={class:"gva-pagination"},V={class:"dialog-footer"},_={name:"trackMsg"},h=Object.assign(_,{setup(_){const h=l({orbitId:"",orbitType:"",orbitSemiMajorAxis:null,orbitEccentricity:null,orbitAngle:null,ascendingNodeLongitude:null,perigee:null});l([{value:"1",label:"类型1"},{value:"2",label:"类型2"}]);const w=l({orbitId:[{required:!0,message:"请输入轨道编码",trigger:"blur"},{validator:(e,l,a)=>{if(!/^[a-zA-Z0-9._-]{3,30}$/.test(l))return a(new Error("编号须3-30位，由字母、数字以及._-组成"));a()},trigger:"blur"}],orbitType:[{required:!0,message:"请输入轨道类型",trigger:"blur"}],orbitSemiMajorAxis:[{required:!0,message:"请输入轨道半长轴",trigger:"blur"}],orbitEccentricity:[{required:!0,message:"请输入轨道偏心率",trigger:"blur"}],orbitAngle:[{required:!0,message:"请输入轨道倾角",trigger:"blur"}],ascendingNodeLongitude:[{required:!0,message:"请输入升交点经度（赤经）",trigger:"blur"}],perigee:[{required:!0,message:"请输入近地点幅角（角距）",trigger:"blur"}]}),A=l(1),j=l(0),x=l(10),z=l([]),C=l({}),T=()=>{A.value=1,x.value=10,E()},S=e=>{x.value=e,E()},U=e=>{A.value=e,E()},E=async()=>{let l={page:A.value,pageSize:x.value,...C.value};const a=await(l=>e({url:"/satellitebc/control/getorbitlist",method:"get",params:l}))(l);200===a.code&&(z.value=a.data,j.value=a.total)};E();const M=l(null),k=l("添加碎片信息"),q=l(!1),I=()=>{q.value=!0},L=()=>{M.value.resetFields(),h.value={orbitId:"",orbitType:"",orbitSemiMajorAxis:null,orbitEccentricity:null,orbitAngle:null,ascendingNodeLongitude:null,perigee:null},q.value=!1},N=async()=>{M.value.validate((async l=>{if(l){200===(await(a=h.value,e({url:"/satellitebc/control/addorbit",method:"post",data:a}))).code&&g({type:"success",message:"添加成功",showClose:!0}),E(),L()}var a}))};return(e,l)=>{const g=a("el-input"),_=a("el-form-item"),E=a("el-button"),F=a("el-form"),D=a("el-table-column"),G=a("el-table"),O=a("el-pagination"),Z=a("el-input-number"),$=a("el-dialog");return t(),o("div",null,[i("div",b,[r(F,{ref:"searchForm",inline:!0,model:C.value},{default:u((()=>[r(_,{label:"轨道编码"},{default:u((()=>[r(g,{modelValue:C.value.searchConditions,"onUpdate:modelValue":l[0]||(l[0]=e=>C.value.searchConditions=e),placeholder:"轨道编码"},null,8,["modelValue"])])),_:1}),r(_,null,{default:u((()=>[r(E,{size:"small",type:"primary",icon:"search",onClick:T},{default:u((()=>[d("查询")])),_:1})])),_:1})])),_:1},8,["model"])]),i("div",m,[i("div",v,[r(E,{size:"small",type:"primary",icon:"plus",onClick:I},{default:u((()=>[d("添加")])),_:1})]),r(G,{data:z.value},{default:u((()=>[r(D,{align:"left",label:"轨道编码",prop:"orbitId"}),r(D,{align:"left",label:"轨道类型",prop:"orbitType"}),r(D,{align:"left",label:"轨道半长轴",prop:"orbitSemiMajorAxis"}),r(D,{align:"left",label:"轨道偏心率",prop:"orbitEccentricity"}),r(D,{align:"left",label:"轨道倾角",prop:"orbitAngle"}),r(D,{align:"left",label:"升交点经度（赤经）",prop:"ascendingNodeLongitude"}),r(D,{align:"left",label:"近地点幅角（角距）",prop:"perigee"}),r(D,{align:"left",label:"更新时间"},{default:u((e=>[d(n(s(c)(e.row.lastTime,1)),1)])),_:1}),r(D,{align:"left",label:"上链时间",width:"180"},{default:u((e=>[e.row.chainTime?(t(),o("div",f,n(s(c)(e.row.chainTime)),1)):p("",!0)])),_:1})])),_:1},8,["data"]),i("div",y,[r(O,{"current-page":A.value,"page-size":x.value,"page-sizes":[10,30,50,100],total:j.value,layout:"total, sizes, prev, pager, next, jumper",onCurrentChange:U,onSizeChange:S},null,8,["current-page","page-size","total"])])]),r($,{modelValue:q.value,"onUpdate:modelValue":l[8]||(l[8]=e=>q.value=e),"before-close":L,title:k.value},{footer:u((()=>[i("div",V,[r(E,{size:"small",onClick:L},{default:u((()=>[d("取 消")])),_:1}),r(E,{size:"small",type:"primary",onClick:N},{default:u((()=>[d("确 定")])),_:1})])])),default:u((()=>[r(F,{ref_key:"apiForm",ref:M,model:h.value,rules:w.value,"label-width":"150px"},{default:u((()=>[r(_,{label:"轨道编码",prop:"orbitId"},{default:u((()=>[r(g,{modelValue:h.value.orbitId,"onUpdate:modelValue":l[1]||(l[1]=e=>h.value.orbitId=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),r(_,{label:"轨道类型",prop:"orbitType"},{default:u((()=>[r(g,{modelValue:h.value.orbitType,"onUpdate:modelValue":l[2]||(l[2]=e=>h.value.orbitType=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),r(_,{label:"轨道半长轴",prop:"orbitSemiMajorAxis"},{default:u((()=>[r(Z,{modelValue:h.value.orbitSemiMajorAxis,"onUpdate:modelValue":l[3]||(l[3]=e=>h.value.orbitSemiMajorAxis=e),controls:!1,style:{width:"100%"}},null,8,["modelValue"])])),_:1}),r(_,{label:"轨道偏心率",prop:"orbitEccentricity"},{default:u((()=>[r(Z,{modelValue:h.value.orbitEccentricity,"onUpdate:modelValue":l[4]||(l[4]=e=>h.value.orbitEccentricity=e),controls:!1,style:{width:"100%"}},null,8,["modelValue"])])),_:1}),r(_,{label:"轨道倾角",prop:"orbitAngle"},{default:u((()=>[r(Z,{modelValue:h.value.orbitAngle,"onUpdate:modelValue":l[5]||(l[5]=e=>h.value.orbitAngle=e),controls:!1,style:{width:"100%"}},null,8,["modelValue"])])),_:1}),r(_,{label:"升交点经度（赤经）",prop:"ascendingNodeLongitude"},{default:u((()=>[r(Z,{modelValue:h.value.ascendingNodeLongitude,"onUpdate:modelValue":l[6]||(l[6]=e=>h.value.ascendingNodeLongitude=e),controls:!1,style:{width:"100%"}},null,8,["modelValue"])])),_:1}),r(_,{label:"近地点幅角（角距）",prop:"perigee"},{default:u((()=>[r(Z,{modelValue:h.value.perigee,"onUpdate:modelValue":l[7]||(l[7]=e=>h.value.perigee=e),controls:!1,style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title"])])}}});export{h as default};
