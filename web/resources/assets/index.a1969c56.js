/*! 
 Build based on gin-vue-admin 
 Time : 1671785957000 */
import{_ as e,r as l,a as r,c as a,b as u,d as s,w as o,t,g as d,o as i,F as n,v as m,h as g,p,q as c,x as w,i as b,l as f}from"./index.860b48e6.js";const v={id:"userLayout",class:"newLoginLayout"},h={class:"login_panel register_panel"},_={class:"login_panel_form"},V=(e=>(p("data-v-9343db29"),e=e(),c(),e))((()=>u("div",{class:"login_panel_form_title"},"注册",-1))),N={name:"register"},P=e(Object.assign(N,{setup(e){const p=l(null),c=r({userName:"",userPwd:"",confirmPassword:"",userNickName:"",userPhoneNum:"",userEmail:"",userRole:""}),N=l([{value:"控制系统",label:"控制系统"},{value:"执行系统",label:"执行系统"},{value:"溯源系统",label:"溯源系统"},{value:"监控系统",label:"监控系统"}]),P=r({userName:[{required:!0,message:"请输入用户名",trigger:"blur"},{validator:(e,l,r)=>{if(!/^[a-zA-Z0-9]{3,15}$/.test(l))return r(new Error("用户名长度须3-15位，由字母或数字组成"));r()},trigger:["blur","change"]}],userPwd:[{required:!0,message:"请输入登录密码",trigger:"blur"},{validator:(e,l,r)=>{if(!/^[a-zA-Z0-9]{3,15}$/.test(l))return r(new Error("密码长度须3-15位，由字母或数字组成"));r()},trigger:["blur","change"]}],confirmPassword:[{validator:(e,l,r)=>l?l!==c.userPwd?r(new Error("两次密码不一致")):void r():r(new Error("请输入确认密码")),trigger:["blur","change"]}],userNickName:[{required:!0,message:"请输入用户昵称",trigger:"blur"},{validator:(e,l,r)=>{if(!/^[A-Za-z0-9\u4e00-\u9fa5]+$/.test(l))return r(new Error("用户昵称不能包含特殊字符"));r()},trigger:["blur","change"]}],userPhoneNum:[{required:!0,message:"请输入手机号",trigger:["blur","change"]},{validator:(e,l,r)=>{if(!/^1(3[0-9]|4[01456879]|5[0-35-9]|6[2567]|7[0-8]|8[0-9]|9[0-35-9])\d{8}$/.test(l))return r(new Error("手机号格式不正确"));r()},trigger:["blur","change"]}],userEmail:[{required:!0,message:"请输入电子邮箱",trigger:["blur","change"]},{validator:(e,l,r)=>{if(!/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(l))return r(new Error("邮箱格式不正确"));r()},trigger:["blur","change"]}],userRole:[{required:!0,message:"请选择用户角色",trigger:"blur"}]}),E=()=>{p.value.validate((async e=>{if(!e)return b({type:"error",message:"请正确填写注册信息",showClose:!0}),!1;200===(await w(c)).code&&(b({type:"success",message:"注册成功"}),t.push({name:"Login"}))}))},y=()=>{t.push({name:"Login"})};return(e,l)=>{const r=d("el-input"),t=d("el-form-item"),w=d("el-option"),b=d("el-select"),k=d("el-button"),q=d("el-form");return i(),a("div",v,[u("div",h,[u("div",_,[V,s(q,{ref_key:"registerForm",ref:p,model:c,rules:P,"validate-on-rule-change":!1,"label-width":"100px"},{default:o((()=>[s(t,{label:"用户名",prop:"userName"},{default:o((()=>[s(r,{modelValue:c.userName,"onUpdate:modelValue":l[0]||(l[0]=e=>c.userName=e)},null,8,["modelValue"])])),_:1}),s(t,{label:"登录密码",prop:"userPwd"},{default:o((()=>[s(r,{modelValue:c.userPwd,"onUpdate:modelValue":l[1]||(l[1]=e=>c.userPwd=e),"show-password":""},null,8,["modelValue"])])),_:1}),s(t,{label:"确认密码",prop:"confirmPassword"},{default:o((()=>[s(r,{modelValue:c.confirmPassword,"onUpdate:modelValue":l[2]||(l[2]=e=>c.confirmPassword=e),"show-password":""},null,8,["modelValue"])])),_:1}),s(t,{label:"用户昵称",prop:"userNickName"},{default:o((()=>[s(r,{modelValue:c.userNickName,"onUpdate:modelValue":l[3]||(l[3]=e=>c.userNickName=e)},null,8,["modelValue"])])),_:1}),s(t,{label:"手机号",prop:"userPhoneNum"},{default:o((()=>[s(r,{modelValue:c.userPhoneNum,"onUpdate:modelValue":l[4]||(l[4]=e=>c.userPhoneNum=e)},null,8,["modelValue"])])),_:1}),s(t,{label:"Email",prop:"userEmail"},{default:o((()=>[s(r,{modelValue:c.userEmail,"onUpdate:modelValue":l[5]||(l[5]=e=>c.userEmail=e)},null,8,["modelValue"])])),_:1}),s(t,{label:"用户角色",prop:"userRole"},{default:o((()=>[s(b,{modelValue:c.userRole,"onUpdate:modelValue":l[6]||(l[6]=e=>c.userRole=e),placeholder:"请选择",style:{width:"100%"}},{default:o((()=>[(i(!0),a(n,null,m(N.value,(e=>(i(),f(w,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),s(t,null,{default:o((()=>[s(k,{type:"primary",size:"large",style:{width:"100%"},onClick:E},{default:o((()=>[g("提交")])),_:1})])),_:1})])),_:1},8,["model","rules"]),u("div",{class:"registerWrapper"},[u("span",{onClick:y},"登录账号")])])])])}}}),[["__scopeId","data-v-9343db29"]]);export{P as default};
