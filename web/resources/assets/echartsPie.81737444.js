/*! 
 Build based on gin-vue-admin 
 Time : 1672137460000 */
import{i as e}from"./index.190cecc4.js";import{a}from"./index.e94acb29.js";import{_ as t,r as l,A as s,B as o,C as i,D as n,o as r,c,b as d}from"./index.326c508a.js";const u={class:"dashboard-line-box"},v=t({__name:"echartsPie",setup(t){const v=l(null);let p=l([]);const f=s(null),m=l(null),y=()=>{f.value=e(m.value),(async()=>{const e=await a();if(200===e.code){let a=[],t=["I级(灾难性)故障","II级(严重)故障","III级(一般)故障","IV级(轻微)故障"],l=["#2661FF","#638EFF","#99B6FF","#FFA722","#FFCD81"],s="",o="";if(e.data){for(let i in e.data)console.log(i,e.data[i]),"atype"==i?(s=t[0],o=l[0]):"btype"==i?(s=t[1],o=l[1]):"ctype"==i?(s=t[2],o=l[2]):"dtype"==i&&(s=t[3],o=l[3]),a.push({value:e.data[i],name:s,itemStyle:{color:o}});p.value=a}b(t)}})()},b=e=>{f.value.setOption({tooltip:{trigger:"item",formatter:"{a}<br/>{b}:{c} ({d}%)",textStyle:{fontSize:"12"}},legend:{orient:"vertical",x:"right",y:40,data:e,textStyle:{color:"#A7B2DB",fontSize:12}},series:[{name:"链上故障信息",type:"pie",radius:[45,78],avoidLabelOverlap:!1,center:[91,98],label:{normal:{show:!1,position:"center"},emphasis:{show:!1,textStyle:{fontSize:"12",fontWeight:"blod"}}},labelLine:{normal:{show:!1}},data:p.value}]})};return o((async()=>{await i(),y()})),v.value=setInterval((()=>{y()}),1e4),n((()=>{f.value&&(f.value.dispose(),f.value=null,clearInterval(v.value),v.value=null)})),(e,a)=>(r(),c("div",u,[d("div",{ref_key:"echart",ref:m,class:"dashboard-line"},null,512)]))}},[["__scopeId","data-v-4f3ea7fc"]]);export{v as default};
